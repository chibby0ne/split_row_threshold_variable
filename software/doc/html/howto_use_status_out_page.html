<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Creonic Simulation Environment (CSE): How to use the Status_Out interface container</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>How to use the Status_Out interface container </h1>  </div>
</div>
<div class="contents">
<p>The <a class="el" href="classcse__lib_1_1Status__Out.html" title="Output status port class of the modules.">cse_lib::Status_Out</a> class is the data type for status ports of modules. Status information is a side information of the modules, which is not necessary for the functionality of the simulation chain (e.g., mean number of iterations of decoder). The primary purpose is to collect statistic data.</p>
<p>The Status_Out class is a very generic template class, which has no fixed behavior. The behavior or functionality and the interface of this class is determined by the given plug-in to use. <a class="el" href="group__status__out__plugin.html">Status_Out statistic plugins</a> gives a list of available plug-ins.</p>
<h2><a class="anchor" id="status_out_general_usage"></a>
General usage in a module</h2>
<h3><a class="anchor" id="status_out_definition"></a>
Definition of the Status_Out port</h3>
<p>To define a port with the name decoding_successful, write the following code into your interface definition of your module: </p>
<div class="fragment"><pre class="fragment"><span class="keyword">public</span>:
...
  Status_Out&lt;bool&gt; decoding_successful;
...
</pre></div><p>The template parameter determines the data type of the status port. As for data ports using <a class="el" href="classcse__lib_1_1Data__In.html" title="Input data port class of the modules.">cse_lib::Data_In</a> or <a class="el" href="classcse__lib_1_1Data__Out.html" title="Output data port class of the modules.">cse_lib::Data_Out</a>, the status port has to be registered with a name in a list within the constructor of the interface class:</p>
<div class="fragment"><pre class="fragment"><span class="keyword">public</span>:
  ...
  Module_Interface()
  {
    decoding_successful.Register(<span class="stringliteral">&quot;decoding_successful&quot;</span>, status_out_list_, <span class="keyword">false</span>);
  }
  ...
</pre></div><p>The third parameter "true" indicates, to include the status port in an XML result file. The default value of this paraemter is "true", therefore you can omit this parameter. If you set the parameter to false, the result will not be written into the XML result file via the <a class="el" href="classManage__Module__Result.html" title="Manage the XML result file.">Manage_Module_Result</a> class. The flag can be changed later using <a class="el" href="classcse__lib_1_1Status__Out__Abstract.html#a6acbd63279e654fc70dc4462e7811e51" title="Getter for write_into_results member variable.">cse_lib::Status_Out_Abstract::write_into_results</a> setter function.</p>
<h3><a class="anchor" id="status_out_usage"></a>
Usage of the Status_Out port</h3>
<p>Before usage of the container, the module should reset its contents. Call the Reset function in the Init function of the module for this:</p>
<div class="fragment"><pre class="fragment">Module::Init()
{
    ...
    decoding_successful.Reset();
    ...
}
</pre></div><p>As mentioned before, the functionality is pluggable. The plug-in to use is defined by the second (optional) template parameter. The default plug-in class named <a class="el" href="classcse__lib_1_1Status__Out__Plugin__Default.html" title="Default plug-in for the Status_Out port (memory behaviour).">cse_lib::Status_Out_Plugin_Default</a> is a simple container to store a single element at a given address.</p>
<p>To access the plug-in the () operator is used. The default plug-in has a member function <a class="el" href="classcse__lib_1_1Status__Out__Plugin__Default.html#a91d97fec9e3a95963bd2417f58b35a91" title="Store one value in the plug-in.">cse_lib::Status_Out_Plugin_Default::Write()</a> to write new data into the container. </p>
<div class="fragment"><pre class="fragment">...
deocoding_successful().Write(<span class="keyword">false</span>);
...
</pre></div><p> Each time the Write function is called the previous value is overwritten.</p>
<h2><a class="anchor" id="mult_dim"></a>
Multi-dimension support</h2>
<p>The status output port as an inherent support for multiple dimensions. You can specify the dimension with the second template parameter. The default value zero means that only one instance exists (i.e., one value can be stored with the default plug-in). Using higher order dimensions allows for addressing of single plug-ins.</p>
<p>The following code example shows a port which can store several values in one dimension. You can address the position with the () operator. In this case you address the position 2. </p>
<div class="fragment"><pre class="fragment">...
Status_Out&lt;bool, 1&gt; decoding_successful;
...
decoding_successful(2)().Write(value)
</pre></div><p>The number of dimensions is random, so it is also possible to use, e.g., three dimensions: </p>
<div class="fragment"><pre class="fragment">...
Status_Out&lt;bool, 3&gt; decoding_successful;
...
decoding_successful(2)(5)(3)().Write(value)
</pre></div><p>If you use multi-dimensional ports, each individual address contains one independent instance of the chosen plug-in. The number of plug-in instances is adjusted during runtime, depending on the highest indices used by the user.</p>
<p>The are some cases where it is useful to start the addressing not at zero (e.g. iterative decoding starting with iteration one). In that case you can switch off a single address of a multidimensional port with the <a class="el" href="classcse__lib_1_1Status__Out__Plugin__Container_3_01P_00_010_01_4.html#ad69bf79af8648703e45bcd967d8fb129" title="Get the write_into_result flag.">cse_lib::Status_Out_Plugin_Container&lt; P, 0 &gt;::write_into_results()</a> setter function. </p>
<div class="fragment"><pre class="fragment">...
decoding_successful(2).write_into_results(<span class="keyword">false</span>);
...
</pre></div><p> If you set the property to false, the result from this address will not appear in the XML result file.</p>
<h2><a class="anchor" id="sec_status_out_plugin"></a>
Plugin concept</h2>
<p>As said before, the behavior of the status out port depends on the used plug-in. The third template parameter gives a class type, which contains the plug-in for the port.</p>
<p>As example we choose the mean plug-in, which is defined by the <a class="el" href="classcse__lib_1_1Status__Out__Plugin__Mean.html" title="Mean value plug-in for the Status_Out port.">cse_lib::Status_Out_Plugin_Mean</a>. The definition of a status out port, which holds mean values of the data written to the port, is quite simple. </p>
<div class="fragment"><pre class="fragment">...
Status_Out&lt;int, 1, Status_Out_Plugin_Mean&gt; mean_num_iter;
...
</pre></div><p>This plug-in has a <a class="el" href="classcse__lib_1_1Status__Out__Plugin__Mean.html#a588c394cdfc3f619d63e87141895f525">Write</a> function, too.</p>
<p>What is the difference between the two status_out objects?</p>
<p>When using the Read function, the default plug-in contains only the plain data. But the mean plug-in gives the mean value of all written data!</p>
<p>With this concept a lot of statistics can be created with a minimum of implementation effort. See <a class="el" href="group__status__out__plugin.html">Status_Out statistic plugins</a> for a list of available plug-ins.</p>
<h2><a class="anchor" id="status_out_result_file"></a>
Result file</h2>
<p>The data stored in the status out ports can be automatically written into a result file, if the class <a class="el" href="classManage__Module__Result.html" title="Manage the XML result file.">Manage_Module_Result</a> is used. This class is the corresponding class to the <a class="el" href="classManage__Module__Config.html">configuration class</a>. </p>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
